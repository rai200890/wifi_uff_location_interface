<div class="row">
  <h3>Map</h3>
</div>
<div class="row" ng-if="loading">
  <h2 class="text-center">Loading<i class="fa fa-spinner fa-5 fa-spin"></i></h2>
</div>
<div class="row" ng-if="!loading && hasMap">
  <div class="container">
    <leaflet id="map" layers="layers" markers="markers" legend="legend" defaults="defaults" height="480px" width="640px"></leaflet>
  </div>
</div>
<div class="row" ng-if="!loading && hasMap">
  <div class="btn-group" role="group">
    <button type="button" ng-click="restoreLocations()" class="btn btn-default">Restore</button>
    <button type="button" ng-click="saveLocations()" class="btn btn-primary">Save</button>
  </div>
</div>
